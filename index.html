<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />
  <title>WIKSXZ PREMIUM STORE</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Plus+Jakarta+Sans:wght@300;500;800&display=swap');

    :root {
      --primary: #00f2ff;
      --secondary: #7000ff;
      --bg: #050507;
      --glass: rgba(255, 255, 255, 0.03);
      --border: rgba(255, 255, 255, 0.08);
      --success: #00ffa3;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      margin: 0; background: var(--bg); color: #fff;
      font-family: 'Plus Jakarta Sans', sans-serif;
      overflow-x: hidden; scroll-behavior: smooth;
      background-image: 
        radial-gradient(circle at 10% 10%, rgba(0, 242, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 90% 90%, rgba(112, 0, 255, 0.05) 0%, transparent 50%);
    }

    /* –ó–∞—â–∏—Ç–∞: –∑–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è */
    body { -webkit-user-select: none; user-select: none; }

    .container { width: 100%; max-width: 1000px; margin: 0 auto; padding: 20px; }

    /* –î–∏–∑–∞–π–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
    header { text-align: center; padding: 40px 0; }
    header h1 { 
      font-family: 'Orbitron'; font-size: clamp(2rem, 10vw, 4rem); margin: 0;
      background: linear-gradient(to right, #fff, var(--primary));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 20px rgba(0,242,255,0.3));
    }

    /* –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ –∏ –¢–∞–±–ª–∏—Ü–∞ */
    .database-section {
      background: var(--glass); border: 1px solid var(--border);
      border-radius: 30px; padding: 25px; backdrop-filter: blur(20px);
      margin-bottom: 40px; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    }
    .search-wrapper { position: relative; margin-bottom: 20px; }
    .search-input {
      width: 100%; padding: 18px 50px; border-radius: 15px; border: 1px solid var(--border);
      background: rgba(0,0,0,0.4); color: #fff; font-size: 16px; outline: none;
    }
    .search-input:focus { border-color: var(--primary); box-shadow: 0 0 20px rgba(0,242,255,0.1); }
    .search-icon { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--primary); }

    .table-container { max-height: 300px; overflow-y: auto; scrollbar-width: thin; }
    .player-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px; border-radius: 12px; margin-bottom: 8px;
      background: rgba(255,255,255,0.02); border: 1px solid transparent;
    }
    .player-row:hover { background: rgba(255,255,255,0.05); border-color: var(--border); }
    .rank-gold { color: #ffbc00; font-weight: 800; }

    /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–∏–∫–∞ */
    .order-box { text-align: center; margin-bottom: 40px; }
    .main-input {
      width: 100%; max-width: 450px; padding: 22px; border-radius: 20px;
      border: 2px solid var(--border); background: #000; color: #fff;
      font-size: 20px; font-weight: 800; text-align: center; outline: none;
    }
    .main-input:focus { border-color: var(--primary); }

    /* –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ */
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 20px; }
    .item-card {
      background: var(--glass); border: 1px solid var(--border); border-radius: 28px;
      padding: 30px 15px; text-align: center; position: relative; transition: 0.4s cubic-bezier(0.2, 1, 0.3, 1);
    }
    .item-card:hover { transform: translateY(-10px) scale(1.02); background: rgba(0,242,255,0.03); border-color: var(--primary); }
    .rb-logo { width: 50px; margin-bottom: 15px; filter: drop-shadow(0 0 10px #ffbc00); }
    .rb-val { font-size: 28px; font-weight: 900; display: block; margin-bottom: 10px; }
    .price-group { margin-bottom: 20px; }
    .p-usd { font-size: 14px; opacity: 0.5; }
    .p-kgs { font-size: 22px; color: var(--success); font-weight: 800; display: block; }
    
    .add-btn {
      width: 100%; padding: 14px; border: none; border-radius: 15px;
      background: #fff; color: #000; font-weight: 800; cursor: pointer;
      text-transform: uppercase; letter-spacing: 1px;
    }
    .item-card:hover .add-btn { background: var(--primary); box-shadow: 0 10px 20px rgba(0,242,255,0.3); }

    /* –ü–ª–∞–≤–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ */
    .cart-float {
      position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
      width: 90%; max-width: 450px; background: rgba(10,10,15,0.95);
      border: 1px solid var(--primary); border-radius: 25px; padding: 20px;
      backdrop-filter: blur(15px); box-shadow: 0 -20px 40px rgba(0,0,0,0.5);
      z-index: 999; display: none; animation: slideUp 0.5s ease;
    }
    @keyframes slideUp { from { bottom: -100px; } to { bottom: 30px; } }
    
    .checkout-btn {
      display: flex; align-items: center; justify-content: center; gap: 10px;
      width: 100%; padding: 20px; background: #0088cc; color: #fff;
      text-decoration: none; border-radius: 18px; font-weight: 800; margin-top: 15px;
    }

    @media (max-width: 600px) {
      .products { grid-template-columns: 1fr 1fr; gap: 10px; }
      .item-card { padding: 20px 10px; }
      .rb-val { font-size: 20px; }
    }
  </style>
</head>
<body>

<div class="container">
  <header>
    <h1>WIKSXZ SHOP</h1>
    <div id="rate-badge" style="opacity:0.6; font-weight:bold; font-size:12px; margin-top:10px;">‚Ä¢ SYNCING ECONOMY ‚Ä¢</div>
  </header>

  <section class="database-section">
    <div class="search-wrapper">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="db-search" class="search-input" placeholder="–ù–∞–π—Ç–∏ –∏–≥—Ä–æ–∫–∞ –ø–æ –Ω–∏–∫—É..." oninput="filterDatabase()">
    </div>
    <div class="table-container" id="db-list">
      <div style="text-align:center; opacity:0.3; padding:20px;">–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...</div>
    </div>
  </section>

  <div class="order-box">
    <input type="text" id="main-nick" class="main-input" placeholder="–í–ê–® –ù–ò–ö ROBLOX" oninput="handleInput()">
    <p class="warning">‚ö†Ô∏è –ü–ò–®–ò –ù–ò–ö –ü–†–ê–í–ò–õ–¨–ù–û –ò–õ–ò –†–û–ë–£–ö–°–´ –£–ô–î–£–¢ –î–†–£–ì–û–ú–£!</p>
  </div>

  <div class="products" id="catalog"></div>

  <div id="cart-ui" class="cart-float">
    <div id="cart-items"></div>
    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:15px; padding-top:15px; border-top:1px solid var(--border);">
      <span style="font-weight:bold;">–ò–¢–û–ì–û:</span>
      <b id="total-kgs" style="font-size:26px; color:var(--primary);">0 —Å–æ–º</b>
    </div>
    <a href="#" id="pay-trigger" class="checkout-btn">–ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ò –û–ü–õ–ê–¢–ò–¢–¨</a>
  </div>

  <footer style="text-align:center; padding:60px; opacity:0.2;">
    WIKSXZ SECURE SYSTEM 2.0 <br>
    <span onclick="t(event)" style="cursor:default">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
  </footer>
</div>

<script>
  // –ó–ê–©–ò–¢–ê –û–¢ –í–ó–õ–û–ú–ê (–ë–ê–ó–û–í–ê–Ø)
  document.addEventListener('keydown', e => {
    if(e.ctrlKey && (e.key==='u' || e.key==='s' || e.key==='i' || e.key==='j') || e.key==='F12') e.preventDefault();
  });
  document.addEventListener('contextmenu', e => e.preventDefault());

  let _C = [], _R = 92.5, _V = false, _D = [];
  const P = [
    {b:40, u:0.49}, {b:80, u:0.99}, {b:400, u:4.99}, {b:800, u:9.99}, {b:1700, u:19.99}
  ];

  async function boot() {
    try {
      const res = await fetch('https://open.er-api.com/v6/latest/USD');
      const d = await res.json();
      _R = d.rates.KGS + 5;
      document.getElementById('rate-badge').innerHTML = `<span style="color:var(--success)">‚óè</span> –ö–£–†–°: ${_R.toFixed(2)} —Å–æ–º`;
      
      render();
      syncDB();
    } catch(e) { render(); }
  }

  function render() {
    document.getElementById('catalog').innerHTML = P.map(x => `
      <div class="item-card">
        <img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Roblox_player_icon_black.svg" class="rb-logo">
        <span class="rb-val">${x.b} R$</span>
        <div class="price-group">
          <span class="p-usd">$${x.u}</span>
          <span class="p-kgs">${Math.ceil(x.u * _R)} —Å–æ–º</span>
        </div>
        <button class="add-btn" onclick="add(${x.b},${x.u})">–ö—É–ø–∏—Ç—å</button>
      </div>
    `).join('');
  }

  async function syncDB() {
    try {
      const res = await fetch('https://docs.google.com/spreadsheets/d/1duBvq0ywgpBwM4sk2Er7bIpTYWkpQSj4fQ4FI_yrAP8/gviz/tq?tqx=out:csv');
      const csv = await res.text();
      const rows = csv.split('\n').slice(1).map(r => r.split(',').map(c => c.replace(/"/g,'')));
      let s = {};
      rows.forEach(r => { if(r[0] && r[2]) s[r[0]] = (s[r[0]] || 0) + parseInt(r[2]); });
      _D = Object.entries(s).sort((a,b) => b[1]-a[1]);
      displayDB(_D);
    } catch(e) {}
  }

  function displayDB(data) {
    const box = document.getElementById('db-list');
    if(!data.length) { box.innerHTML = '<div style="text-align:center; opacity:0.3;">–ë–∞–∑–∞ –ø—É—Å—Ç–∞</div>'; return; }
    box.innerHTML = data.map(([n,v], i) => `
      <div class="player-row">
        <span>${i===0?'<i class="fas fa-crown rank-gold"></i>':(i+1)+'.'} <b>${n}</b></span>
        <span style="color:var(--primary)">${v} R$</span>
      </div>
    `).join('');
  }

  function filterDatabase() {
    const term = document.getElementById('db-search').value.toLowerCase();
    const filtered = _D.filter(([n]) => n.toLowerCase().includes(term));
    displayDB(filtered);
  }

  function handleInput() {
    _V = document.getElementById('main-nick').value.trim().length >= 3;
  }

  function add(b, u) {
    if(!_V) { alert("–°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏ —Å–≤–æ–π –Ω–∏–∫ Roblox!"); return; }
    _C.push({b, u});
    ui();
  }

  function ui() {
    const box = document.getElementById('cart-ui');
    const items = document.getElementById('cart-items');
    box.style.display = _C.length ? 'block' : 'none';
    items.innerHTML = "";
    let totalU = 0, totalR = 0;
    _C.forEach((it, i) => {
      totalU += it.u; totalR += it.b;
      items.innerHTML += `<div style="display:flex; justify-content:space-between; margin-bottom:5px; font-size:14px;">
        <span>${it.b} Robux</span>
        <span onclick="_C.splice(${i},1); ui()" style="color:var(--danger); cursor:pointer;">&times;</span>
      </div>`;
    });
    const finalSom = Math.ceil(totalU * _R);
    document.getElementById('total-kgs').innerText = finalSom + " —Å–æ–º";
    const ID = Math.floor(Math.random()*90000);
    const msg = `üíé –ü–†–ï–ú–ò–£–ú –ó–ê–ö–ê–ó #W-${ID}\n\nüë§ –ò–ì–†–û–ö: ${document.getElementById('main-nick').value}\nüì¶ –¢–û–í–ê–†: ${totalR} Robux\nüí∞ –°–£–ú–ú–ê: ${finalSom} —Å–æ–º\n\n–Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∏–∫–∞.`;
    document.getElementById('pay-trigger').href = `https://t.me/i_wiksxz0?text=${encodeURIComponent(msg)}`;
  }

  let cc = 0;
  function t(e) { cc++; if(cc>=30) { 
    let p = prompt("ACCESS CODE:");
    if(p === "WiksxzShop") window.location.href = "https://docs.google.com/spreadsheets/d/1duBvq0ywgpBwM4sk2Er7bIpTYWkpQSj4fQ4FI_yrAP8/edit";
  }}

  boot();
</script>
</body>
</html>
